import{U as l}from"./D0aMoxAP.js";const c=l("game",{state:()=>({balance:100,dice:[1,1,1,1,1],rolling:!1,history:[],rollCount:0,lastCombination:-1}),getters:{ALL_USER_WINS(t){return t.history.reduce((e,i)=>e+(i.win||0),0)},ALL_USER_BETS(t){return t.history.reduce((e,i)=>e+(i.bet||0),0)},RTP(t){return t.ALL_USER_BETS===0?0:t.ALL_USER_WINS/t.ALL_USER_BETS*100}},actions:{rollDice(t){t<=0||t>this.balance||(this.rolling=!0,this.balance-=t,this.rollCount++,this.lastCombination=-1,setTimeout(()=>{this.dice=Array.from({length:5},()=>Math.floor(Math.random()*6)+1);const e=this.getMultiplier(this.dice),i=t*e;this.balance+=i,this.history.push({experiment:this.rollCount,balance:this.balance,bet:t,win:i}),this.rolling=!1,this.lastCombination=e},1e3))},getMultiplier(t){const e={};t.forEach(r=>e[r]=(e[r]||0)+1);const i=Object.values(e).sort((r,s)=>s-r),n=[...t].sort((r,s)=>r-s).every((r,s,o)=>s===0||r===o[s-1]+1);return console.log("counts",e,"values",i,"isStraight",n),i.includes(5)?4:n?5:i.includes(3)&&i.includes(2)?3:i.includes(2)||i.includes(3)?2:0}}});export{c as u};
